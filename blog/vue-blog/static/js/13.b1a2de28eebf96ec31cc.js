webpackJsonp([13],{"97py":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("bGai"),c=s("vLgD"),i={components:{Checkbox:a.b,VTd:a.h,Container:a.c,List:a.e},data:function(){return{title:this.$t("database.index"),lang:this.$t("database"),checked:!1,tgCheck:!1,isOK:!0}},watch:{checkbox:function(t){var e=t.length;e===this.list.length&&(this.tgCheck=!0),0===e&&(this.tgCheck=!1)}},computed:{list:function(){return this.$store.state.table.list},checkbox:{get:function(){return this.$store.state.table.checkbox},set:function(t){this.$store.commit("table/SET_CHECKBOX",t)}}},methods:{mysqldump:function(){var t=this;if(this.isOK){var e=this.checkbox;if(Array.isArray(e)&&e.length<=0)this.$toast.warn({title:"备份失败 ~",message:"请勾选需要备份的表~"});else{var s={table_list:this.checkbox};c.a.post("/api/database/backup",s).then(function(e){e&&t.$toast.success({title:"API 请求成功",message:e.error}),t.isOK=!0})}}}},mounted:function(){this.$store.commit("table/SET_URL","/api/database/index"),this.$store.dispatch("table/fetchList")}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("container",{attrs:{title:t.title}},[s("list",{attrs:{isPager:!1}},[s("button",{staticClass:"btn btn-primary btn-sm delete",attrs:{slot:"operation"},on:{click:t.mysqldump},slot:"operation"},[s("i",{staticClass:"fa fa-save"}),t._v(" 备份数据库")]),t._v(" "),s("thead",{attrs:{slot:"thead"},slot:"thead"},[s("tr",[s("th",[s("checkbox",{attrs:{checked:t.tgCheck},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1),t._v(" "),s("th",[t._v(t._s(t.lang.id))]),t._v(" "),s("th",[t._v(t._s(t.lang.table_name))]),t._v(" "),s("th",[t._v(t._s(t.lang.table_rows))]),t._v(" "),s("th",[t._v(t._s(t.lang.table_engine))]),t._v(" "),s("th",[t._v(t._s(t.lang.create_time))])])]),t._v(" "),s("tbody",{attrs:{slot:"tbody"},slot:"tbody"},t._l(t.list,function(e,a){return s("tr",[s("td",[s("checkbox",{attrs:{checked:t.checked,value:e.TABLE_NAME},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}})],1),t._v(" "),s("td",[t._v(t._s(a))]),t._v(" "),s("td",[s("span",{staticClass:"label label-danger"},[t._v(t._s(e.TABLE_NAME))])]),t._v(" "),s("td",[s("span",{staticClass:"label label-success"},[t._v(t._s(e.TABLE_ROWS))]),t._v(" 条记录")]),t._v(" "),s("td",[t._v(t._s(e.ENGINE))]),t._v(" "),s("td",[t._v(t._s(e.create_time))])])}))])],1)},staticRenderFns:[]},l=s("VU/8")(i,n,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=13.b1a2de28eebf96ec31cc.js.map